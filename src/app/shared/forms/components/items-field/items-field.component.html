<fieldset [formArrayName]="control.control.name">
  <legend>{{ control.control.label }}</legend>
  @for (group of formControl.controls; track group; let index = $index) {
    <div
      class="flex flex-row gap-1 items-center"
      [formGroupName]="index">
      @for (control of control.control.controls; track control.name) {
        <ng-container
          [ngComponentOutlet]="controlResolver.resolve(control.controlType) | async"
          [ngComponentOutletInjector]="control.name | controlInjector: control : group : index">
        </ng-container>
      }
      <button
        class="text-light2 mt-4"
        (click)="removeGroup(index)">
        <app-delete-icon></app-delete-icon>
      </button>
    </div>
  }
</fieldset>

<button
  type="button"
  (click)="addGroup()">
  ADD
</button>
